<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>一个球</title>

	<style type="text/css">
	*{
    margin:          0;
    padding:         0;
	}

	div{
    height:          50px;
    width:           50px;
    background:      red;
    border-radius:   25px;
    position:        absolute;
	}
	</style>

	<script type="text/javascript">

	window.onload = function () {
		
		var oDiv = document.getElementById('ball');
		oDiv.timer = null;
		fnMove(oDiv,50,8);


		/*一个球的运动*/
			function fnMove (obj,iSpeedX,iSpeedY) {
				
			  clearInterval(obj.timer);
				obj.timer = setInterval(function () {

					iSpeedY += 3; //这个加速度一定要放最前面
					
					var left = iSpeedX + obj.offsetLeft;
				  var top = iSpeedY + obj.offsetTop;
				  var disX =  document.documentElement.clientWidth - obj.offsetWidth;
				  var disY = document.documentElement.clientHeight - obj.offsetHeight;

				  //iSpeedY += 3; //放这里最后会,y方向速度到不了零了..这尼玛的bug

					if(top >= disY){
						iSpeedY *= -0.8;
						iSpeedX *= 0.8;
						top = disY;
					}
					else if (top <= 0) {
						iSpeedY *= -0.8;
						iSpeedX *= 0.8;
						top = 0;
					}
				 if (left >= disX) {
						iSpeedX *= -0.8;
					  iSpeedY *= 0.8
						left = disX;
					}	
					else if(left <= 0){
						iSpeedX *= -0.8;
						iSpeedY *= 0.8;
						left = 0;
					}

					if (Math.abs(iSpeedY) < 1) {
						iSpeedY = 0;
					}
					if (Math.abs(iSpeedX) < 1) {
						iSpeedX = 0;
					}

					if (iSpeedX == 0 && iSpeedY == 0 && top == disY) {
						clearInterval(obj.timer);
					};

					obj.style.left = left  + 'px';
					obj.style.top = top  + 'px';

				},30);
			}
};

	</script>
</head>
<body>
<div id="ball"></div>	
</body>
</html>