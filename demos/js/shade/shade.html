

<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片渐变</title>
	<style type="text/css">
	*{
		margin: 0;
		padding: 0;
	}
	img{
		display: block;
		border: none;
		margin-top: 10px;
		margin-left: 10px;
		opacity: 0.4;
		filter: alpha(opacity:40); /*为了兼容ie8以前的浏览器*/
	}
	</style>

	<script type="text/javascript">
	window.onload = function () {
		var aImg = document.getElementsByTagName('img');
		for (var i = 0,len = aImg.length; i < len; i++) {
			aImg[i].timer = null;
			aImg[i].opacity = 40;
			aImg[i].onmouseover = function () {
				change(this,100);
			}
			aImg[i].onmouseout = function () {
				change(this,40);
			}
		}

		function change (obj,iTarget) {
			clearInterval(obj.timer);
			obj.timer = setInterval(function () {
				var speed = (iTarget - obj.opacity) / 8;
				speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);

				if(obj.opacity == iTarget){
					clearInterval(obj.timer);
				}else{
					obj.opacity = obj.opacity + speed;
					obj.style.opacity = obj.opacity / 100;
					obj.style.filter = 'alpha(opacity:' + obj.opacity + ')';
				}
			},30);
		}
};
	</script>
</head>
<body>
	<img src="s.png" />
	<img src="s.png" />
	<img src="s.png" />
</body>
</html>